<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./base.css">
    <title>База знаний</title>
</head>
<body>
    <div id="container">
        <nav>
            <a href="./main.html">Главная страница</a>
            <a href="./theory.html">Теоретические сведения</a>
            <a href="./struct.html">Структура установки</a>
            <a href="http://127.0.0.1:8080">Симулятор установки</a>
            <a href="./about.html">Обо мне</a>
            <a href="./base.html">База знаний</a>
        </nav>
        <div class="content-container">
            <h1 style="text-align: left;">База знаний</h1>
            <div class="wrapperForQuestion">
                <h6 style="text-align: center;" class="modal-window-heading">Задайте свой вопрос</h6>
                <div class="question_test">
                    <div class="input-modal">
                        <input class="question" id="question" placeholder="Например, что такое самозарядный пистолет?" type="text">
                        <div class="question-button" onclick="Know()">Узнать ответ</div>
                    </div>
                    <div class="wrapper-answer">
                        <div class="answer"></div>
                    </div>
                </div>
            </div>
            <table>
                <thead>
                    <tr>
                        <th>Вопрос</th>
                        <th>Ответ</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>
    </div>
</body>
</html>
<script>
    try {
      var rows = document.querySelectorAll('tbody tr');
  
      // Проходимся по каждой строке и добавляем номер
      rows.forEach(function (row, index) {
        var questionCell = row.cells[0]; // ячейка с вопросом
        questionCell.textContent = (index + 1) + '. ' + questionCell.textContent;
      });
  
      let inputQuestion = document.querySelector(".question");
  
      let answer = document.querySelector(".answer");
  
  
      function Know() {
        alert(inputQuestion.value)
        const answerText = getAnswer(inputQuestion.value);//Основная функция
        answer.innerHTML = answerText;
        alert(answerText)
      }
  
  
  
  
  
  
  
      let knowledge =
              [
                 ["Самозарядный пистолет", "является", "оружием, самостоятельно осуществляющим процесс перезаряда."],
                 ["Затвор", "представляет собой", "подвижную конструкцию для полного или частичного закрывания."],
                 ["Патронник", "является", "участком ствола, в котором размещется снаряд огнестрельного орудия."],
                 ["Патронник", "соответсвует", "размеру и форме гильзы."],
                 ["Фланец", "представляет собой", " один из элементов донной части гильзы патрона."],
                 ["Форма фланца", "бывает", "выступающая и невыступающая."],
                 ["Пистолет", "является", "ручным короткоствольным стрелковым оружием."],
                 ["Пистолет", "бывает", "огнестрельным, газовым, пневматическим, травматическим, сигнальным и охолощенным."],
                 ["Однозарядный пистолет", "представляет собой", "оружие с одним зарядом в стволе."],
                 ["Ствол", "является", "частью орудия, выпскающего пулю из оружия."],
                 ["Пистолет-пулемет", "представляет собой", "индивидуальное ручное автоматическое стрелковое оружие непрерывного огня, использующее для стрельбы пистолетный патрон."],
                 ["Беретта", "является", "итальянской компанией производства оружия."],
                 ["Пистолетный патрон", "является", "оружейным патроном, предназначенным для использования в короткоствольном индивидуальном ручном стрелковом оружии."],
                 ["Револьвер", "представляет собой", "многозарядное короткоствольное стрелковое оружие с вращающимся барабаном, выполняющим функцию магазина."],
                 ["Барабан", "является", "многозарядным магазином крутящегося действия."],
                 ["Зарядная камора", "представляет собой", "полость в задней (казённой) части канала ствола артиллерийского орудия."],
                 ["Казённик", "является", "задней (казённой) частью артиллерийского (миномётного) ствола, в которой расположен затвор."],
                 ["Качающийся затвор", "представляет собой", "механизм огнестрельного стрелкового оружия, обеспечивающий открывание и закрывание канала ствола путём качания затвора относительно оси ствола."],
                 ["Клиновый затвор", "представляет собой", "механизм огнестрельного оружия, обеспечивающий открывание и закрывание канала ствола путём поступательного движения затвора перпендикулярно оси ствола."],
                 ["Крановый затвор", "представляет собой", "механизм огнестрельного стрелкового оружия, обеспечивающий открывание и закрывание канала ствола путём вращения затвора вокруг своей оси."],
                 ["Поршневой затвор", "представляет собой", "механизм артиллерийского орудия, обеспечивающий открывание и закрывание канала ствола благодаря сцеплению нарезки поршня и нарезной части казенного среза ствола."],
                 ["Скользящий затвор", "представляет собой", "механизм огнестрельного стрелкового оружия, обеспечивающий открывание и закрывание канала ствола путём прямолинейного поступательного движения затвора вдоль оси ствола."],
                 ["Промежуточный патрон", "является", "типом патрона для индивидуального ручного огнестрельного оружия, промежуточный по мощности между пистолетными и винтовочными патронами."],
                 ["Метательный заряд", "является", "определенным весовым количеством пороха, употребляемым для стрельбы из орудий и ружей."],
                 ["Ружьё", "представляет собой", "ручное длинноствольное огнестрельное стрелковое оружие, предназначенное для удержания и управления при стрельбе двумя руками."],
                 ["Дробь", "является", "разновидностью поражающих элементов, которыми снаряжаются патроны гладкоствольного оружия."],
                 ["Картечь", "представляет собой", "артиллерийский снаряд (картечная граната) для стрельбы на близкое расстояние по открытой цели."],
                 ["Картечь", "состоит", "из тонкостенной цилиндрической оболочки с 100—200 пулями."],
                 ["Дробь", "покрывается", "медью, хромом или никелем."],
                 ["Травматический патрон", "снаряжается", "резиновой дробью или резиновой картечью."],
                 ["Автоматическое ружье", "представляет собой", " огнестрельное оружие, в котором перезаряжание и производство очередного выстрела выполняются автоматически за счёт образующейся при выстреле энергии пороховых газов или энергии других (посторонних) источников."],
                 ["Самозарядное оружие", "представляет собой", "автоматическое оружие, спусковой механизм которого позволяет вести только одиночную стрельбу."],
                 ["Самострельное оружие", "представляет собой", "автоматическое оружие, способное к непрерывной стрельбе очередями без повторных нажатий на спусковой крючок."],
                 ["Гильза", "является" , "тонкостенной закрытой с одного конца трубкой (стаканом), предназначенной для помещения метательного заряда и средств воспламенения."],
                 ["Капсюль", "представляет собой", "устройство для воспламенения порохового заряда в огнестрельном оружии и боевых припасах."],
                 ["Винтовочный патрон", "является", "оружейным патроном, разработанным и предназначенным для использования в длинноствольном нарезном стрелковом оружии, главным образом в винтовках и карабинах."],
                 ["Карабин", "представляет собой", "облегчённую винтовку с укороченным стволом."],
                 ["Гладкоствольное оружие", "представляет собой", "огнестрельное оружие, имеющее ствол или стволы только с гладкими каналами."],
                 ["Артиллерия", "является", "родом войск, основным вооружением которого являются артиллерийские орудия."],
                 ["Пушка", "представляет собой", "тип артиллерийского орудия, основным назначением которого является стрельба по настильной траектории, а также по воздушным и отдалённым целям."],
                 ["Гаубица-пушка", "представляет собой", "артиллерийское орудие, способное выполнять функции как гаубицы, стреляющей преимущественно по навесной траектории, так и пушки, стреляющей преимущественно по настильной траектории или даже прямой наводкой."],
                 ["Калибр гаубицы-пушки", "равен", "120 мм и более."],
                 ["Мортира", "является", "артиллерийским орудием с коротким стволом (обычно длиной канала менее 15 калибров, в другом источнике указано что ствол которой короче 10 калибров) для навесной стрельбы."],
                 ["Бомбарда", "является", "названием первых артиллерийских орудий различного калибра и конструкции."],
                 ["Миномет", "представляет собой", "артиллерийское орудие, отличающееся отсутствием противооткатных устройств и лафета — их заменяет опорная плита, через которую импульс отдачи передаётся грунту или (у самоходных миномётов) самоходному шасси."],
                 ["Гранатомет", "представляет собой", "огнестрельное оружие, предназначенное для поражения вооружения и военной техники, сооружений и живой силы противника, с помощью выстрела боевым припасом."],
                 ["Пулемет", "представляет собой", "групповое либо индивидуальное стрелковое автоматическое оружие поддержки, предназначенное для поражения пулями различных наземных, надводных и воздушных целей."],
                 ["Винтовка", "представляет собой", "нарезное стрелковое оружие, конструктивно предназначенное для удержания и управления при стрельбе двумя руками с упором приклада в плечо."],
                 ["Пищаль", "означает", "общее русское название ранних образцов средне- и длинноствольного огнестрельного оружия прицельной стрельбы."],
                 ["Отдача ствола", "означает", "действие автоматики оружия, основанное на использовании отдачи подвижного ствола, с которым на время выстрела прочно сцеплен затвор."],
                 ["Свободный затвор", "представляет собой", "продольно-скользящий затвор, на которое отдача свободно передается, т.е. не блокируется."],
                 ["Отдача свободного затвора", "означает", "принцип действия автоматики перезаряжания огнестрельного оружия, при котором продольно-скользящий затвор не сцеплён с неподвижным стволом, а его отход назад при выстреле замедляется силой трения стенок гильзы о патронник, массой затвора и силой возвратной пружины."],
                 ["Длинный ход ствола", "равен", "ходу затвора."],
                 ["Прицельная дальность", "представляет собой", "дальность, соответствующая наибольшему делению прицела оружия."],
                 ["Дальность прямого выстрела", "означает", "дальность, на которой высота траектории равна высоте данной цели."],
                 ["Дальнобойность", "представляет собой", "одно из основных свойств стрелкового оружия, совокупность его свойств, связанных с дальностью стрельбы."],
                 ["Прицел", "является", " приспособлением, используемфм для наведения оружия на цель."],
                 ["Кольцевой прицел", "подразумевает", "то, что  c данным прицелом стрелок как бы непосредственно смотрит через апертуру на мушку, совмещая её с целью и инстинктивно выравнивая линию прицеливания относительно светлого пятна, проецируемого апертурой на глаз."],
                 ["Оптический прицел", "представляет собой", "оптический прибор, предназначенный для точной наводки оружия на цель."],
                 ["Целик", "представляет собой", "щиток с прорезью, и часть прицельной планки (коробки, трубки) прицела огнестрельного оружия (стрелкового, артиллерийского), в которой находится прорезь, при прицеливании совмещаемая с мушкой."],
                 ["Мушка", "является", "приспособлением для прицеливания огнестрельного оружия, частью механического простого прицела, огнестрельного стрелкового оружия, а раннее и артиллерийского."],
                 ["Калибр", "представляет собой", "числовое выражение характеристики диаметра ствола."],
        ["Планка Пикатинни", "представляет собой", " систему рельсового крепления, кронштейн, используемый на различных видах стрелкового вооружения для обеспечения унификации креплений прицелов (оптических, коллиматорных) и прочих вспомогательных принадлежностей."],
        ["Сошка", "- это", "подставка для огнестрельного оружия или арбалета."],
        ["Цевье", "представляет собой", "передняя часть ружейной ложи, закрывающая ствол полностью или частично."],
        ["Приклад", "представляет собой", "запчасть автомата, предназначенная для создания упора в плечо стрелка во время прицеливания и ведения стрельбы."],
        ["Пистолетная рукоять", "- это", "деталь огнестрельного оружия, предназначенная для его контроля и удержания."],
        ["Антабка", "представляет собой", "деталь оружия, приспособление для крепления и передвижения ремня ручного огнестрельного оружия."],
        ["Затворная задержка", "означает", "механизм, удерживающий затвор оружия в крайнем заднем положении по израсходовании всех патронов в магазине."],
        ["Спусковая скоба", "представляет собой", "деталь оружия, служащая для предохранения спускового крючка от случайного нажатия, например, при падении."],
        ["Буферная трубка", "представляет собой", " деталь, где находится возвратная пружина и сам буфер/буферный механизм (демпфер), которая сжимается при движении группы затвора назад при перезарядке, при этом на эту деталь устанавливается приклад."],
        ["Рукоять взведения затвора", "- это", "часть огнестрельного оружия, позволяющая управлять затвором. "],
        ["Направляющий стержень", "представляет собой", "важный компонент секции подачи пружины пистолета."],
        ["Скорострельность", "является", "тактико-технических характеристик различного вооружения, определяющая эффективность огня."],
        ["Тактико-технические характеристики", "- это", "совокупность качественных и количественных параметров изделия военной техники или вооружения, описывающая его свойства (как эксплуатационные, так и боевые)."],
        ["Выстрел", "обозначает", "явление, происходящее при стрельбе, например, из огнестрельного и другого оружия."],
        ["Снаряд", "- это", "средство поражения живой силы, материальной части и укреплений противника, выстреливаемое (выпускаемое) из артиллерийского или иного боевого устройства."],
        ["Патронташ", "- это", " снаряжение для ношения патронов с отдельными ячейками для каждого из них."],
        ["Автомат", "представляют собой", "ручное индивидуальное автоматическое огнестрельное стрелковое оружие, предназначенное для поражения живой силы противника в ближнем бою и способное создавать высокую плотность огня."],
        ["Промежуточный патрон", "представляет собой", "тип патрона для индивидуального ручного огнестрельного оружия, промежуточный по мощности между пистолетными и винтовочными патронами."],
        ["Коллиматор", "- это", "это тип оптического прицела , который позволяет пользователю, глядя в него, видеть освещенную точку прицеливания, совмещенную с устройством, к которому прикреплен прицел, независимо от положения глаз (с небольшим параллаксом )."],
        ["Боекомплект", "представляет собой", "количество боеприпасов, установленное на единицу оружия (пулемёт, пушку, гранатомёт и тому подобное) или боевую машину для боя."],
        ["Дальность стрельбы", "представляет собой", "кратчайшее расстояние между точкой вылета и точкой падения (разрыва) снаряда (пули, мины) при стрельбе."],
        ["Плотность огня", "представляет собой", "одна из основных характеристик интенсивности огневого воздействия на цель, которая выражается в общем количестве снарядов (пуль, мин и т. п.) на единицу площади цели (иногда — на длину её фронта) в единицу времени. "],
        ["Пламегаситель", "- это", "приспособление, уменьшающее видимость выстрела путём рассеяния газов вверх и вбок, чтобы не поднимать пыль."],
        ["Дульный тормоз", "представляет собой", "устройство-компенсатор, предназначенное для уменьшения отдачи огнестрельного оружия, использующее кинетическую энергию пороховых газов, выходящих из ствола вслед за выпущенным снарядом или пулей."],
        ["Глушитель", "представляет собой", "дульное механическое устройство стрелкового оружия, ослабляющее звук выстрела и скрывающее пламя пороховых газов, тем самым предотвращая демаскировку стрелка или привлечение к нему внимания."],
        ["Планка Вивера", "является", " системой рельсового интерфейса, кронштейн для присоединения дополнительных оружейных аксессуаров и вспомогательных принадлежностей к ручному стрелковому оружию."],
        ["Курок", "представляет собой", "деталь ударно-спускового механизма в современном огнестрельном оружии, предназначенная для разбивания капсюля и производства выстрела."],
        ["Трассирующий снаряд", "- это", "боевой припас особой конструкции к огнестрельному оружию, поражающие элементы (пуля) которого начинают светиться в полёте, создавая ясно видимый след (трассу, отсюда и название) для стрелка, предназначенный для корректировки огня и целеуказания."],
        ["Магнифер", "представляет собой", "оптический прибор, увеличивающий получаемое через прицельное приспособление изображение. "],
        ["Газовая трубка", "представляет собой", "трубку, по которой пороховые газы поступают обратно в затворный механизм."],
        ["Ударник", "представляет собой", "деталь ударного (ударно-спускового) механизма огнестрельного оружия, особая часть затвора."],
        ["Боевая пружина", "представляет собой", " пружина в ударном или ударно-спусковом механизме огнестрельного оружия, сообщающая курку или ударнику энергию, необходимую для разбивания капсюля."],
        ["Затворная рама", "представляет собой", "ведущее звено автоматики огнестрельного оружия."],
        ["Боевая личинка", "представляет собой", "переднею часть затвора огнестрельного оружия, непосредственно подпирающая казённый срез ствола и осуществляющая тем самым запирание его канала."],
        ["Газовый поршень", "является", "подвижная деталь, которая принимает энергию пороховых газов и толкает завтор."],
        ["Возвратная пружина", "представляет собой", " пружина в механизме автоматического оружия, предназначенная для возврата подвижных частей оружия — затвора, в некоторых системах также ствола и газового поршня — в исходное положение после выстрела."],
        ["Магазин", "представляет собой", "в многозарядном огнестрельном оружии (карабинах, винтовках, пистолетах, пулемётах (кроме использующихся с патронным ящиком) и тому подобное) магазин представляет собою ёмкость для размещения патронов в определённом порядке с механизмом их поочерёдной подачи для стрельбы."],
        ["Обойма патронная", "представляет собой", " изделие (приспособление), объединяющее несколько патронов вместе и служащее для облегчения и ускорения заряжания стрелкового оружия и малокалиберных пушек, то есть их магазинов."],
        ["Радусный пин", "представляет собой", "это часть возвратного механизма, отвечающая за удержание личинки затвора в затворной раме и за её проворот при запирании ствола на боевые упоры."],
              ];
  
  
      let endings =
        [
          ["ет", "(ет|ут|ют)"],
          ["ут", "(ет|ут|ют)"],
          ["ют", "(ет|ут|ют)"],		     //1 спряжение
  
          ["ит", "(ит|ат|ят)"],
          ["ат", "(ит|ат|ят)"],
          ["ят", "(ит|ат|ят)"],		     //2 спряжение
  
          ["ется", "(ет|ут|ют)ся"],
          ["утся", "(ет|ут|ют|ующие)ся"],
          ["ются", "(ет|ут|ют)ся"], //1 спряжение, возвратные
  
          ["ится", "(ит|ат|ят)ся"],
          ["атся", "(ит|ат|ят)ся"],
          ["ятся", "(ит|ат|ят)ся"],     //2 спряжение, возвратные
  
          ["ящие", "ящие"],
          ["ee", "ee"],
          ["ен", "ен"],
          ["ую", "ая"],
          ["му", "ма"],
          ["ена", "ена"],
          ["ено", "ено"],
          ["ены", "ены"],		    //краткие прилагательные
  
          ["ан", "ан"],
          ["ая", "ую"],
          ["ана", "ана"],
          ["ано", "ано"],
          ["аны", "аны"],		    //краткие прилагательные
  
          ["но", "но"],
          ["на", "на"],
  
          ["жен", "жен"],
          ["жна", "жна"],
          ["жно", "жно"],
          ["жны", "жны"],
  
          ["такое", "- это"],
        ]
  
      let blacklist = ["замена", "замены", "атрибут", "маршрут", "член", "нет"]
  
      QuestForTest = [
        'Что такое самозарядный пистолет?',
        'Что такое затвор?',
        'Что такое патронник?',
        'Чему соответствует патронник?',
        'Что такое фланец?',
        'Какой бывает форма фланца?',
        'Что такое пистолет?',
        'Каким бывает пистолет?',
        'Что такое однозарядный пистолет?',
        'Что такое ствол?',
        'Что такое пистолет-пулемет?',
        'Чем является Беретта?',
        'Чем является пистолетный патрон?',
        'Что такое револьвер?',
        'Чем является барабан?',
        'Что такое зарядная камора?',
        'Чем является казённик?',
        'Что такое качающийся затвор?',
        'Что такое клиновый затвор?',
        'Что такое крановый затвор?',
        'Что такое поршневой затвор?',
        'Что такое скользящий затвор?',
        'Чем является промежуточный патрон?',
        'Чем является метательный заряд?',
        'Что такое ружье?',
        'Чем является дробь?',
        'Что такое картечь?',
        'Из чего состоит картечь?',
        'Чем покрывается дробь?',
        'Чем снаряжается травматический патрон?',
        'Что такое автоматическое ружье?',
        'Что такое самозарядное оружие?',
        'Что такое самострельное оружие?',
        'Чем является гильза?',
        'Что такое капсюль?',
        'Чем является винтовочный патрон',
        'Что такое карабин',
        'Что такое гладкоствольное оружие?',
        'Чем является артиллерия?',
        'Что такое пушка?',
        'Что такое гаубица-пушка?',
        'Чему равен калибр гаубицы-пушки?',
        'Чем является мортира?',
        'Чем является бомбарда?',
        'Что такое миномет?',
        'Что такое гранатомет?',
        'Что такое пулемет?',
        'Что такое винтовка?',
        'Что означает пищаль?',
        'Что означает отдача ствола?',
        'Что такое свободный затвор?',
        'Что означает отдача свободного затвора?',
        'Чему равен длинный ход ствола?',
        'Что такое прицельная дальность?',
        'Что означает дальность прямого выстрела?',
        'Что такое дальнобойность?',
        'Чем является прицел?',
        'Что подразумевает кольцевой прицел?',
        'Что такое оптический прицел?',
        'Что такое целик?',
        'Чем является мушка?',
        'Что такое ударник?',
      'Что такое боевая пружина?',
      'Что такое возвратная пружина?',
      'Что такое радусный пин?',
      'Что такое магазин?',
      'Что такое обойма?',
      'Что такое автомат?',
      'Что такое промежуточный патрон?',
      'Чем является скорострельность?',
      'Что такое тактико-технические характеристики?',
      'Что такое калибр?',
      'Что такое курок?',
      'Что такое трассирующий снаряд?',
      'Что такое магнифер?',
      'Что такое Планка Пикатинни?',
      'Что такое сошка?',
      'Что такое цевье?',
      'Что такое приклад?',
      'Что такое пистолетная рукоять?',
      'Что такое Антабка?',
      'Что означает затворная задержка?',
      'Что такое спусковая скоба?',
      'Что такое буферная трубка?',
      'Что такое затворная рама?',
      'Что такое боевая личинка?',
      'Что такое газовый поршень?',
      'Что такое газовая трубка?',
      'Что обозначает выстрел?',
      'Что такое снаряд?',
      'Что такое патронташ?',
      'Что такое коллиматор?',
      'Что такое дульный тормоз?',
      'Что такое планка Вивера?',
      'Что такое рукоять взведения затвора?',
      'Что такое направляющий стержень?',
      'Что такое боекомплект?',
      'Что такое дальность стрельбы?',
      'Что такое плотность огня?',
      'Что такое пламегаситель?'
      ]
  
      function getEndingIndex(word) {
        //проверка слова на совпадение по черному списку в массиве blacklist
        if (blacklist.indexOf(word) !== -1)
          return -1;
  
        for (var j = 0; j < endings.length; j++) {
  
          //проверка, оканчивается ли слово word на j-ое псевдоокончание
  
          if (word.substring(word.length - endings[j][0].length) == endings[j][0])
  
            //возврат номера найденного псевдоокончания для сказуемого 
  
            return j;
        }
  
        //если совпадений нет, то возврат -1
  
        return -1;
  
      }
  
      function firstSymbolToLowerCase(str) {
        return str.substring(0, 1).toLowerCase() + str.substring(1);
      }
  
      function firstSymbolToUpperCase(str) {
        return str.substring(0, 1).toUpperCase() + str.substring(1);
      }
  
      function getAnswer(question) {
        // преобразование текста из параметра функции question
        // чтобы сделать первую букву в тексте вопроса прописной
        let text = firstSymbolToLowerCase(question);
        // знаки препинания
  
        let separators = "'\",.!?()[]\\/";
        // добавление пробелов перед знаками препинания
        for (let i = 0; i < separators.length; i++)
          text = text.replace(separators[i], " " + separators[i]);
  
  
        // массив слов и знаков препинания, отделенных пробелами
        let words = text.split(' ');
  
  
        for (let i = 0; i < words.length; i++)
          words[i] = firstSymbolToLowerCase(words[i]);
  
        let result = false;
        let answer = "";
  
        // перебор слов в массиве слов из вопроса
        for (let i = 0; i < words.length; i++) {
          let ending = getEndingIndex(words[i]);
  
          if (ending >= 0) {
            //
            words[i] = words[i].substring(0, words[i].length - endings[ending][0].length) + endings[ending][1]
  
            console.log(words)
  
            // создание регулярного выражения для поиска по сказуемому из вопроса
            let predicate = new RegExp(".*" + words[i] + ".*");
  
            // для кратких прилагательных нужно захватить следующее за найденным слово
            if (endings[ending][0] == endings[ending][1]) {
              predicate = new RegExp(".*" + words[i] + " " + words[i + 1] + ".*");
              i++;
            }
            console.log(predicate)
  
            // создание регулярного выражения для поиска по подлежащему из вопроса
            let subjectReg = words.slice(i + 1).join(".*");
            console.log(subjectReg)
  
            // только если в подлежащем больше трех символов
            if (subjectReg.length > 3) {
              let subject = new RegExp(".*" + subjectReg + ".*");
              console.log(subject)
  
              // поиск совпадений с шаблонами среди связей семантической сети
              for (let j = 0; j < knowledge.length; j++) {
                if (predicate.test(knowledge[j]?.[1]?.toLowerCase()) && (subject.test(knowledge[j]?.[0]?.toLowerCase()) || subject.test(knowledge[j]?.[2]?.toLowerCase()))) {
                  // создание простого предложения из семантической связи
                  answer += firstSymbolToUpperCase(knowledge[j][0] + " " + knowledge[j][1] + " " + knowledge[j][2] + "");
                  result = true;
                }
              }
  
              // если совпадений с двумя шаблонами нет,
              if (!result) {
  
                // поиск совпадений только с шаблоном подлежащего
                for (let j = 0; j < knowledge.length; j++) {
                  if (subject.test(knowledge[j]?.[0]?.toLowerCase() || subject.test(knowledge[j]?.[2]?.toLowerCase()))) {
                    // создание простого предложения из семантической связи
                    answer += firstSymbolToUpperCase(knowledge[j][0] + " " + knowledge[j][1] + " " + knowledge[j][2] + "");
                    result = true;
                    break;
                  }
                }
              }
            }
          }
        }
        // если ответа нет
        if (!result)
          answer = "Ответ не найден. <br/>";
        return answer;
      }
  
      // Получение ответа с помощью вашей функции
      let res = getAnswer(question);
  
      console.log(res + " thos")
    }
  
  
  
    catch (e) {
      console.error(e)
    }
  
    if (confirm('Вывести список?')) {
      for (var i = 0; i < QuestForTest.length; i++) {
        var question = QuestForTest[i]
        var answer = getAnswer(question)
  
        var tableRow = document.createElement('tr')
        var cell1 = document.createElement('td')
        var cell2 = document.createElement('td')
        cell1.appendChild(document.createTextNode(`${i + 1}. ${question}`))
        cell2.appendChild(document.createTextNode(answer))
        tableRow.appendChild(cell1)
        tableRow.appendChild(cell2)
  
        document.querySelector('table').appendChild(tableRow)
      }
    }
  
  </script>
</html>